(this["webpackJsonpsnp-todo-react"]=this["webpackJsonpsnp-todo-react"]||[]).push([[0],{167:function(e,t,o){"use strict";o.r(t);var n,a=o(0),c=o.n(a),r=o(18),l=o.n(r),i=(o(66),o(67),o(68),o(7)),u=(o(69),o(2)),s="CREATE_TODO",d="EDIT_TODO",m="DELETE_TODO",f="CHANGE_TODO_STATUS",E="COMPLETE_ALL",p="CHANGE_CURRENT_FILTER",b="CLEAR_COMPLETED_TODOS",O=s,_=d,v=m,y=f,T=E,j=p,C=b,k=o(60),N=c.a.memo((function(){var e=Object(u.c)(),t=c.a.useState(""),o=Object(i.a)(t,2),n=o[0],a=o[1],r=c.a.useCallback((function(t){var o;t.preventDefault(),n.length&&n.trim().length&&(e((o={id:Object(k.a)(),content:n,completed:!1},{type:O,payload:o})),a(""))}),[e,n]),l=c.a.useCallback((function(){e({type:T})}),[e]);return c.a.createElement("div",{className:"todo-form"},c.a.createElement("button",{className:"todo-form__complete-all",onClick:l}),c.a.createElement("form",{className:"todo-form__form",onSubmit:r},c.a.createElement("input",{className:"todo-form__input",type:"text",placeholder:"What you gonna do?",onChange:function(e){a(e.target.value)},onBlur:r,onKeyDown:function(e){"Escape"===e.key&&a("")},value:n})))})),h=(o(75),o(76),c.a.memo((function(e){var t=Object(u.c)(),o=e.todo.id,n=c.a.useState(!1),a=Object(i.a)(n,2),r=a[0],l=a[1],s=c.a.useState(e.todo.content),d=Object(i.a)(s,2),m=d[0],f=d[1],E=c.a.useState(""),p=Object(i.a)(E,2),b=p[0],O=p[1],T=c.a.createRef(),j=c.a.useCallback((function(){t({type:v,payload:{id:o}})}),[t,o]),C=c.a.useCallback((function(){m.length&&m.trim().length?t({type:_,payload:{id:o,newTodoText:m}}):j(),l(!1)}),[t,m,j,o]),k=c.a.useCallback((function(){t({type:y,payload:{id:o}})}),[t,o]);c.a.useLayoutEffect((function(){T.current&&T.current.focus()}),[T]);var N=c.a.createElement("input",{value:m,ref:T,onChange:function(e){f(e.target.value)},className:"todo__edit"});return c.a.createElement("div",{className:"todo"},c.a.createElement("i",{className:"todo__checkbox ".concat(e.todo.completed&&"todo__checkbox_active"),onClick:k}),c.a.createElement("div",{className:"todo__text",onDoubleClick:function(){O(m),l(!0)},onBlur:C,onKeyDown:function(e){"Enter"===e.key?C():"Escape"===e.key&&(f(b),l(!1))}},r?N:m),c.a.createElement("button",{className:"todo__delete-button",onClick:j}))}))),L=o(3),g={ALL:"ALL",ACTIVE:"ACTIVE",COMPLETED:"COMPLETED"},D=(n={},Object(L.a)(n,g.ALL,(function(e){return e})),Object(L.a)(n,g.ACTIVE,(function(e){return!e.completed})),Object(L.a)(n,g.COMPLETED,(function(e){return e.completed})),n);Object.filter=function(e,t){return Object.keys(e).reduce((function(o,n){return t(e[n])&&(o[n]=e[n]),o}),{})};var w,S=Object(u.b)((function(e){return{todos:e.todo.todos,filterType:e.todo.filterType}}),null)(c.a.memo((function(e){var t=c.a.useMemo((function(){return t=e.todos,o=e.filterType,Object.filter(t,D[o]);var t,o}),[e.todos,e.filterType]),o=c.a.useMemo((function(){return Object.values(t).map((function(e){return c.a.createElement(h,{todo:e,key:e.id})}))}),[t]);return c.a.createElement("div",{className:"todos"},o)}))),A=(o(77),o(57)),I=o.n(A),M=c.a.memo((function(){var e=Object(u.c)(),t=Object(u.d)((function(e){return e.todo.todos})),o=Object(u.d)((function(e){return e.todo.filterType})),n=c.a.useCallback((function(t){var o;e((o={filterType:t.target.name},{type:j,payload:o}))}),[e]),a=c.a.useCallback((function(){e({type:C})}),[e]),r=c.a.useMemo((function(){return Object.values(t).filter((function(e){return!e.completed})).length}),[t]),l=Object.values(g).map((function(e){return c.a.createElement("button",{name:e,onClick:n,className:"filters__".concat(e.toLowerCase()," filters__").concat(e.toLowerCase()).concat(o===e?"_active":"")},I()(e))}));return c.a.createElement("div",{className:"footer"},c.a.createElement("div",{className:"footer__count"},"Todos left: ",r),c.a.createElement("div",{className:"filters"},l),c.a.createElement("button",{className:"footer__clear",onClick:a},"Clear completed"))})),R=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"main-content"},c.a.createElement("div",{className:"todo-block"},c.a.createElement("div",{className:"todo-block__title"},"Todos"),c.a.createElement("div",{className:"todo-block__content"},c.a.createElement(N,null),c.a.createElement(S,null),c.a.createElement(M,null)))))},x=o(1),P=o(59),V=o(58),B=o.n(V),J={todos:JSON.parse(localStorage.getItem("storedTodos"))||{},filterType:g.ALL},U=s,X=d,W=m,F=f,G=E,H=p,K=b,$=Object(P.a)(J,(w={},Object(L.a)(w,U,(function(e,t){var o=t.payload,n={content:o.content,completed:o.completed,id:o.id};e.todos[o.id]=n})),Object(L.a)(w,X,(function(e,t){var o=t.payload,n=o.newTodoText;e.todos[o.id].content=n})),Object(L.a)(w,W,(function(e,t){var o=t.payload;delete e.todos[o.id]})),Object(L.a)(w,F,(function(e,t){var o=t.payload,n=e.todos[o.id].completed;e.todos[o.id].completed=!n})),Object(L.a)(w,G,(function(e,t){Object.values(e.todos).some((function(e){return!e.completed}))?Object.keys(e.todos).forEach((function(t){t.completed||(e.todos[t].completed=!0)})):Object.keys(e.todos).forEach((function(t){e.todos[t].completed=!e.todos[t].completed}))})),Object(L.a)(w,H,(function(e,t){var o=t.payload;e.filterType=o.filterType})),Object(L.a)(w,K,(function(e,t){e.todos=B()(e.todos,(function(e){return!e.completed}))})),w)),q=Object(x.c)({todo:$}),z=Object(x.e)(q,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());z.subscribe((function(){localStorage.setItem("storedTodos",JSON.stringify(z.getState().todo.todos))}));var Q=z;var Y=function(){return c.a.createElement(u.a,{store:Q},c.a.createElement(R,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(c.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},61:function(e,t,o){e.exports=o(167)},66:function(e,t,o){},67:function(e,t,o){},68:function(e,t,o){},69:function(e,t,o){},75:function(e,t,o){},76:function(e,t,o){},77:function(e,t,o){}},[[61,1,2]]]);
//# sourceMappingURL=main.1b58aa2a.chunk.js.map